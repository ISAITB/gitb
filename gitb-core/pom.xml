<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<parent>
		<artifactId>GITB</artifactId>
		<groupId>com.gitb</groupId>
		<version>1.0-SNAPSHOT</version>
	</parent>
	<modelVersion>4.0.0</modelVersion>
	<artifactId>gitb-core</artifactId>
	<name>gitb-core</name>
    <packaging>jar</packaging>

	<properties>
		<generated-sources>${project.build.directory}/generated-sources</generated-sources>
	</properties>

	<profiles>
		<profile>
			<id>re-jaxb-source-generator</id>
			<activation>
				<file>
					<missing>${generated-sources}</missing>
				</file>
			</activation>

			<build>
				<plugins>
                    <plugin>
                        <groupId>org.jvnet.jax-ws-commons</groupId>
                        <artifactId>jaxws-maven-plugin</artifactId>
                        <version>2.3</version>
                        <executions>
                            <execution>
                                <id>generate-tbs</id>
                                <goals>
                                    <goal>wsimport</goal>
                                </goals>
                                <configuration>
	                                <bindingFiles>
		                                <bindingFile>${basedir}/src/main/resources/schema/binding_tbs.xjb</bindingFile>
	                                </bindingFiles>
                                    <wsdlLocation>http://localhost:8080/TestbedService?wsdl</wsdlLocation>
                                    <wsdlDirectory>src/main/resources/schema</wsdlDirectory>
                                    <wsdlFiles>
                                        <wsdlFile>gitb_tbs.wsdl</wsdlFile>
                                    </wsdlFiles>
                                    <vmArgs>
                                        <vmArg>-Djavax.xml.accessExternalSchema=all</vmArg>
                                    </vmArgs>
                                    <sourceDestDir>${project.build.directory}/generated-sources/model</sourceDestDir>
                                </configuration>
                            </execution>
                            <execution>
                                <id>generate-vs</id>
                                <goals>
                                    <goal>wsimport</goal>
                                </goals>
                                <configuration>
                                    <bindingFiles>
                                        <bindingFile>${basedir}/src/main/resources/schema/binding_vs.xjb</bindingFile>
                                    </bindingFiles>
                                    <wsdlLocation>http://www.gitb.com/services</wsdlLocation>
                                    <wsdlDirectory>src/main/resources/schema</wsdlDirectory>
                                    <wsdlFiles>
                                        <wsdlFile>gitb_vs.wsdl</wsdlFile>
                                    </wsdlFiles>
                                    <vmArgs>
                                        <vmArg>-Djavax.xml.accessExternalSchema=all</vmArg>
                                    </vmArgs>
                                    <sourceDestDir>${project.build.directory}/generated-sources/model</sourceDestDir>
                                </configuration>
                            </execution>
                            <execution>
                                <id>generate-ms</id>
                                <goals>
                                    <goal>wsimport</goal>
                                </goals>
                                <configuration>
                                    <bindingFiles>
                                        <bindingFile>${basedir}/src/main/resources/schema/binding_ms.xjb</bindingFile>
                                    </bindingFiles>
                                    <wsdlLocation>http://www.gitb.com/services</wsdlLocation>
                                    <wsdlDirectory>src/main/resources/schema</wsdlDirectory>
                                    <wsdlFiles>
                                        <wsdlFile>gitb_ms.wsdl</wsdlFile>
                                    </wsdlFiles>
                                    <vmArgs>
                                        <vmArg>-Djavax.xml.accessExternalSchema=all</vmArg>
                                    </vmArgs>
                                    <sourceDestDir>${project.build.directory}/generated-sources/model</sourceDestDir>
                                </configuration>
                            </execution>
                            <execution>
                                <id>generate-ps</id>
                                <goals>
                                    <goal>wsimport</goal>
                                </goals>
                                <configuration>
                                    <bindingFiles>
                                        <bindingFile>${basedir}/src/main/resources/schema/binding_ps.xjb</bindingFile>
                                    </bindingFiles>
                                    <wsdlLocation>http://www.gitb.com/services</wsdlLocation>
                                    <wsdlDirectory>src/main/resources/schema</wsdlDirectory>
                                    <wsdlFiles>
                                        <wsdlFile>gitb_ps.wsdl</wsdlFile>
                                    </wsdlFiles>
                                    <vmArgs>
                                        <vmArg>-Djavax.xml.accessExternalSchema=all</vmArg>
                                    </vmArgs>
                                    <sourceDestDir>${project.build.directory}/generated-sources/model</sourceDestDir>
                                </configuration>
                            </execution>
                        </executions>
                    </plugin>
					<!--plugin>
						<groupId>org.codehaus.mojo</groupId>
						<artifactId>build-helper-maven-plugin</artifactId>
						<version>1.8</version>
						<executions>
							<execution>
								<id>add-source</id>
								<phase>generate-sources</phase>
								<goals>
									<goal>add-source</goal>
								</goals>
								<configuration>
									<sources>
										<source>${generated-sources}</source>
									</sources>
								</configuration>
							</execution>
						</executions>
					</plugin-->
				</plugins>
			</build>

			<dependencies>
				<dependency>
					<groupId>org.jvnet.jaxb2.maven2</groupId>
					<artifactId>maven-jaxb2-plugin</artifactId>
					<version>0.8.2</version>
				</dependency>
			</dependencies>
		</profile>
	</profiles>
	<dependencies>
		<dependency>
			<groupId>commons-io</groupId>
			<artifactId>commons-io</artifactId>
			<version>2.4</version>
		</dependency>
		<dependency>
			<groupId>commons-configuration</groupId>
			<artifactId>commons-configuration</artifactId>
			<version>1.10</version>
		</dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.6.4</version>
        </dependency>
	</dependencies>
</project>