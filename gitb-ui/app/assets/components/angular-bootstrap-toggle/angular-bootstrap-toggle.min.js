!function(){"use strict";angular.module("ui.toggle",[]).value("$toggleSuppressError",!1).constant("toggleConfig",{btnCheckboxFalse:!1,btnCheckboxTrue:!0,on:"On",off:"Off",size:"",onClass:"btn-primary",onstyle:"",offClass:"btn-default",offstyle:"",barClass:"btn-default",toggleStyle:"",toggleClass:"",style:"",width:"",height:"",disabled:!1}).provider("toggle",function(){var e;return e={},{setOption:function(l){angular.extend(e,l)},$get:function(){return e}}}).controller("ToggleController",["$scope","$attrs","$interpolate","$log","$document","toggleConfig","$toggleSuppressError","$parse","toggle",function(e,l,t,n,a,o,s,r,i){function g(e,l,t,n,a){var o;if(angular.isDefined(n)){if(o=e(n),!o.constant)throw angular.ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",t,n);return o(l)}return a}var d=this;angular.extend(o,i);var f=g(r,e,"ngTrueValue",l.ngTrueValue,!0),u=g(r,e,"ngFalseValue",l.ngFalseValue,!1),c=Object.keys(o);angular.forEach(c,function(n,a){if(angular.isDefined(l[n]))switch(typeof o[n]){case"string":d[n]=t(l[n])(e.$parent);break;case"function":break;default:d[n]=e.$parent.$eval(l[n])}else d[n]=o[n]}),d.onstyle&&(d.onClass=d.onstyle),d.offstyle&&(d.offClass=d.offstyle),d.style&&(d.toggleClass=d.style),""===d.on&&(d.on="&nbsp;"),""===d.off&&(d.off="&nbsp;"),this.evaluateSize=function(){if(!d.width||!d.height){var e=d.onElement.cloneNode(!0);e.style.position="absolute",e.style.display="block",e.style.visibility="hidden",e.style.border="0",e.style.margin="0",a[0].body.appendChild(e);var l=d.offElement.cloneNode(!0);l.style.position="absolute",l.style.display="block",l.style.visibility="hidden",l.style.border="0",l.style.margin="0",a[0].body.appendChild(l),d.width||(d.width=Math.max(e.scrollWidth,l.scrollWidth)+2+"px"),d.height||(d.height=Math.max(e.scrollHeight,l.scrollHeight)+2+"px"),a[0].body.removeChild(e),a[0].body.removeChild(l)}},this.init=function(){var t=d.element.find("label"),n=d.element.find("span"),a=d.element.find("div");d.wrapperElement=a[0],d.onElement=t[0],d.offElement=t[1],d.handleElement=n[0];var o=angular.element(d.onElement);o.html(d.on),angular.element(d.offElement).html(d.off),angular.element(d.wrapperElement).addClass(d.size),o.addClass(d.size),angular.element(d.offElement).addClass(d.size),angular.element(d.handleElement).addClass(d.size),angular.element(d.wrapperElement).addClass(d.toggleClass),angular.element(d.onElement).addClass(d.onClass),angular.element(d.offElement).addClass(d.offClass),angular.element(d.handleElement).addClass(d.barClass),d.evaluateSize(),angular.element(d.onElement).addClass("toggle-on"),angular.element(d.offElement).addClass("toggle-off"),d.computeStyle(),d.ngModelCtrl.$render=function(){d.toggle()},angular.isDefined(l.ngChange)&&d.ngModelCtrl.$viewChangeListeners.push(function(){e.$eval(l.ngChange)})},this.computeStyle=function(){angular.element(d.onElement).attr("disabled",d.disabled),angular.element(d.offElement).attr("disabled",d.disabled),angular.element(d.handleElement).attr("disabled",d.disabled),e.wrapperStyle=d.toggleStyle?e.$parent.$eval(d.toggleStyle):{},e.wrapperStyle.width=d.width,e.wrapperStyle.height=d.height},this.toggle=function(){angular.equals(d.ngModelCtrl.$viewValue,f)?angular.element(d.wrapperElement).removeClass("off "+d.offClass).addClass(d.onClass):angular.element(d.wrapperElement).addClass("off "+d.offClass).removeClass(d.onClass)},e.onSwitch=function(e){return!d.disabled&&(d.ngModelCtrl.$setViewValue(angular.equals(d.ngModelCtrl.$viewValue,f)?u:f),d.ngModelCtrl.$render(),!0)},angular.forEach(c,function(e,t){l.$observe(e,function(l){d[e]!==l&&(d[e]=l,d.computeStyle())})})}]).directive("toggle",function(){return{restrict:"E",template:'<div ng-cloak class="toggle btn off" ng-style="wrapperStyle"ng-click="onSwitch($event)"><div class="toggle-group"><label class="btn toggle-on-pad"></label><label class="btn toggle-off-pad active"></label><span class="btn toggle-handle"></span></div></div>',scope:{ngModel:"="},require:["toggle","ngModel"],controller:"ToggleController",controllerAs:"toggle",compile:function(e,l,t){return{post:function(e,l,t,n){var a=n[0];a.element=l,a.ngModelCtrl=n[1],a.init()},pre:function(){}}}}})}();